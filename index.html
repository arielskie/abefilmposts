<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latest Short Drama</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: black;
        color: white;
        overflow-x: hidden;
      }

      /* Thumbnail collage background */
      #background-grid {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        grid-template-rows: repeat(5, 1fr);
        gap: 2px;
        z-index: -1;
      }

      #background-grid div {
        background-size: cover;
        background-position: center;
        transition: opacity 0.5s ease-in-out;
      }

      .container {
        display: grid;
        grid-template-columns: auto auto auto;
        gap: 20px;
        padding: 20px;
        background: rgba(0, 0, 0, 0.8);
        border-radius: 10px;
        max-width: 900px;
        margin: auto;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        position: relative;
        z-index: 1;
      }

      h2 {
        text-align: center;
      }

      .column {
        padding: 10px;
      }

      ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      li {
        font-size: 16px;
        padding: 3px 0;
      }

    .buttons {
    text-align: center;
    margin-top: 20px;
}

button {
    padding: 10px 20px;
    margin: 5px;
    border: none;
    border-radius: 25px;
    font-size: 16px;
    font-weight: bold;
    color: white;
    background: linear-gradient(135deg, #ff416c, #ff4b2b); /* Gradient */
    cursor: pointer;
    transition: all 0.3s ease-in-out;
    box-shadow: 0 4px 10px rgba(255, 65, 108, 0.5);
}

button:hover {
    background: linear-gradient(135deg, #ff4b2b, #ff416c); /* Reverse Gradient */
    transform: scale(1.05);
    box-shadow: 0 6px 15px rgba(255, 65, 108, 0.7);
}

button:disabled {
    background: #444;
    color: #aaa;
    cursor: not-allowed;
    box-shadow: none;
    transform: none;
}

/* Watermark Styling */
#watermark {
    position: fixed;
    bottom: 10px;
    right: 10px;
    display: flex;
    align-items: center;
    gap: 5px;
    background: rgba(0, 0, 0, 1);
    padding: 5px 10px;
    border-radius: 5px;
   
}

#watermark img {
    width: 40px; /* Adjust size */
    height: auto;
}

#watermark p {
    font-size: 14px;
    color: white;
    margin: 0;
}


    </style>

    <script>
        let posts = [];
        let currentPage = 1;
        const postsPerPage = 50;

        function fetchPosts(page) {
            const script = document.createElement("script");
            script.src = `https://abefilm.asia/feeds/posts/summary?alt=json-in-script&max-results=${postsPerPage}&start-index=${(page - 1) * postsPerPage + 1}&callback=handleBloggerPosts`;
            document.body.appendChild(script);
        }

        function handleBloggerPosts(json) {
            posts = [];
            if (json.feed.entry) {
                posts = json.feed.entry.map(post => ({
                    title: post.title.$t,
                    thumbnail: post["media$thumbnail"] ? post["media$thumbnail"].url.replace(/\/s72-c/, "/s800") : null
                }));

                displayBackgroundThumbnails();
                displayPosts();
            } else {
                document.getElementById("col1").innerHTML = "<li>No posts found.</li>";
            }
        }

        function displayBackgroundThumbnails() {
            const grid = document.getElementById("background-grid");
            grid.innerHTML = "";

            let thumbnails = posts
                .map(post => post.thumbnail)
                .filter(url => url !== null)
                .slice(0, 50); // Only take up to 50 thumbnails

            while (thumbnails.length < 50) {
                thumbnails.push("https://via.placeholder.com/150"); // Fallback placeholder
            }

            thumbnails.forEach(url => {
                const div = document.createElement("div");
                div.style.backgroundImage = `url('${url}')`;
                grid.appendChild(div);
            });
        }

        function displayPosts() {
            const col1 = document.getElementById("col1");
            const col2 = document.getElementById("col2");
            const col3 = document.getElementById("col3");

            col1.innerHTML = "";
            col2.innerHTML = "";
            col3.innerHTML = "";

            let columnCount = [17, 17, 16];
            let startNumber = (currentPage - 1) * postsPerPage + 1;

            let index = 0;
            for (let c = 0; c < 3; c++) {
                for (let i = 0; i < columnCount[c] && index < posts.length; i++, index++) {
                    const li = document.createElement("li");
                    li.textContent = `${startNumber + index}. ${posts[index].title}`;
                    if (c === 0) {
                        col1.appendChild(li);
                    } else if (c === 1) {
                        col2.appendChild(li);
                    } else {
                        col3.appendChild(li);
                    }
                }
            }

            document.getElementById("prevBtn").disabled = currentPage === 1;
        }

        function changePage(step) {
            currentPage += step;
            document.getElementById("col1").innerHTML = "<li>Loading...</li>";
            document.getElementById("col2").innerHTML = "";
            document.getElementById("col3").innerHTML = "";
            fetchPosts(currentPage);
        }

        window.onload = () => {
            fetchPosts(currentPage);
        };
    </script>
</head>
<body>

    <div id="background-grid"></div>

<!-- Watermark -->
<div id="watermark">
    <img src="https://blogger.googleusercontent.com/img/a/AVvXsEjpM8eWbHDGjjjWDDCAsuf2afPfNPTr55-GQ8fVGASf5yYrBv2UB_6CMshJJT_uuU7IKu8RnZKDO0YhFaDYA8lQ9bfcsDet5DM3_EOi4LvwXNlRxRH-zvyEjXjy_Z2CCh-urNB4KBfK8bG6CDY2jJl5Q_vdLOoN7fmEX1Upo6JGxBku2PknlZyR5MldwvrN=w800" alt="Logo">
    <p>Follow Us</p>
</div>


    <h2>Latest Uploads</h2>
    <div class="container">
        <div class="column">
            <ul id="col1"></ul>
        </div>
        <div class="column">
            <ul id="col2"></ul>
        </div>
        <div class="column">
            <ul id="col3"></ul>
        </div>
    </div>

    <div class="buttons">
        <button id="prevBtn" onclick="changePage(-1)" disabled>Previous</button>
        <button id="nextBtn" onclick="changePage(1)">Next</button>
    </div>

</body>
</html>
